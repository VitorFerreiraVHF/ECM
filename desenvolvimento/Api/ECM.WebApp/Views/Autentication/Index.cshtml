@{
    ViewData["Title"] = "ECCONOMI";
}

<script>
    function login() {
        let mail = document.querySelector('input[name="mail"]').value;
        let pswd = document.querySelector('input[name="senha"]').value;

        let data = new FormData();
        data.append("mail", mail);
        data.append("senha", pswd);

        const req = new Request("../Autentication/Login", {
            method: 'post',
            body: data
        });
        fetch(req)
            .then(response => response.json())
            .then(d => {
                if (d.status == 0)
                    alert(d.message); 
                else
                    window.location.href = d.message
            });

        return false;
    }
</script>
<section id="principal">

        <div>
            <form onsubmit="return login()">
            <a asp-controller="UserEdit" asp-action="Index" class="Voltar">Se Cadastrar</a>
                <h3>LOGIN</h3>
                <br>
                <input class="input" type="email" id="mail" name="mail" placeholder="Seu e-mail...">
                <input class="input" type="password" id="senha" name="senha" placeholder="Sua senha...">
                <center>
                <input type="submit" id="btn" name="acao" value="Entrar" />
                    <br>
                    <br>
                <a asp-controller="AlterPassword" asp-action="Index" style="margin-top: 1em;">Esqueceu a Senha?</a>
                </center>
            </form>

        </div>
</section>

</section>
